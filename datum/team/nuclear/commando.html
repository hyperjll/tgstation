<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/team/nuclear/commando - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/team/nuclear/commando.html#proc">Proc Details</a></header><main><h1>commando <aside>/<a href="datum.html">datum</a>/<a href="datum/team.html">team</a>/<a href="datum/team/nuclear/commando.html">nuclear/commando</a></aside> <a href="https://github.com/hyperjll/tgstation/blob/be45a28c4b65857d23dc903f76861c7a8b838eb4/hypermods/code/modules/antagonists/nukeop/commando_nukeop.dm#L137"><img src="git.png" width="16" height="16" title="hypermods/code/modules/antagonists/nukeop/commando_nukeop.dm 137"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/team/nuclear/commando.html#proc/antag_listing_entry">antag_listing_entry</a></th><td>/datum/team/nuclear/commando/get_result()
var/shuttle_evacuated = EMERGENCY_ESCAPED_OR_ENDGAMED
var/shuttle_landed_base = SSshuttle.emergency.is_hijacked()
var/disk_rescued = is_disk_rescued()
var/syndies_didnt_escape = !is_infiltrator_docked_at_syndiebase()
var/team_is_dead = are_all_operatives_dead()
var/station_was_nuked = GLOB.station_was_nuked
var/station_nuke_source = GLOB.station_nuke_source</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/antag_listing_entry"><aside class="parent"><a title="/datum/team" href="datum/team.html#proc/antag_listing_entry">↑</a></aside>antag_listing_entry<aside>()  <a href="https://github.com/hyperjll/tgstation/blob/be45a28c4b65857d23dc903f76861c7a8b838eb4/hypermods/code/modules/antagonists/nukeop/commando_nukeop.dm#L256"><img src="git.png" width="16" height="16" title="hypermods/code/modules/antagonists/nukeop/commando_nukeop.dm 256"></a></aside></h3><p>/datum/team/nuclear/commando/get_result()
var/shuttle_evacuated = EMERGENCY_ESCAPED_OR_ENDGAMED
var/shuttle_landed_base = SSshuttle.emergency.is_hijacked()
var/disk_rescued = is_disk_rescued()
var/syndies_didnt_escape = !is_infiltrator_docked_at_syndiebase()
var/team_is_dead = are_all_operatives_dead()
var/station_was_nuked = GLOB.station_was_nuked
var/station_nuke_source = GLOB.station_nuke_source</p>
<pre><code>// The nuke detonated on the syndicate base
if(station_nuke_source == DETONATION_HIT_SYNDIE_BASE)
	return NUKE_RESULT_FLUKE

// The station was nuked
if(station_was_nuked)
	// The station was nuked and the infiltrator failed to escape
	if(syndies_didnt_escape)
		return NUKE_RESULT_NOSURVIVORS

// The station was not nuked, but something was
else if(station_nuke_source &amp;&amp; !disk_rescued)
	// The station was not nuked, but something was, and the syndicates didn't escape it
	if(syndies_didnt_escape)
		return NUKE_RESULT_WRONG_STATION_DEAD
	// The station was not nuked, but something was, and the syndicates returned to their base
	else
		return NUKE_RESULT_WRONG_STATION

// Nuke didn't blow, but nukies somehow hijacked the emergency shuttle to land at the base anyways.
else if(shuttle_landed_base)
	if(disk_rescued)
		return NUKE_RESULT_HIJACK_DISK
	else
		return NUKE_RESULT_HIJACK_NO_DISK

// No nuke went off, the station rescued the disk
else if(disk_rescued)
	// No nuke went off, the shuttle left, and the team is dead
	if(shuttle_evacuated &amp;&amp; team_is_dead)
		return NUKE_RESULT_CREW_WIN_SYNDIES_DEAD
	// No nuke went off, but the nuke ops survived
	else
		return NUKE_RESULT_CREW_WIN

// No nuke went off, but the disk was left behind
else
	// No nuke went off, the disk was left, but all the ops are dead
	if(team_is_dead)
		return NUKE_RESULT_DISK_LOST
	// No nuke went off, the disk was left, there are living ops, but the shuttle left successfully
	else if(shuttle_evacuated)
		return NUKE_RESULT_DISK_STOLEN

CRASH(&quot;[type] - got an undefined / unexpected result.&quot;)
</code></pre>
<p>/datum/team/nuclear/commando/roundend_report()
var/list/parts = list()
parts += &quot;<span class='header'>[syndicate_name] Operatives:</span>&quot;</p>
<pre><code>switch(get_result())
	if(NUKE_RESULT_FLUKE)
		parts += &quot;&lt;span class='redtext big'&gt;Humiliating Syndicate Defeat!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;The crew of [station_name()] gave [syndicate_name] operatives back their bomb! The syndicate base was destroyed!&lt;/B&gt; Next time, don't lose the nuke!&quot;
	if(NUKE_RESULT_NUKE_WIN)
		parts += &quot;&lt;span class='greentext big'&gt;Syndicate Major Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives have destroyed [station_name()]!&lt;/B&gt;&quot;
	if(NUKE_RESULT_NOSURVIVORS)
		parts += &quot;&lt;span class='neutraltext big'&gt;Total Annihilation!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives destroyed [station_name()] but did not leave the area in time and got caught in the explosion.&lt;/B&gt; Next time, don't lose the disk!&quot;
	if(NUKE_RESULT_WRONG_STATION)
		parts += &quot;&lt;span class='redtext big'&gt;Crew Minor Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives secured the authentication disk but blew up something that wasn't [station_name()].&lt;/B&gt; Next time, don't do that!&quot;
	if(NUKE_RESULT_WRONG_STATION_DEAD)
		parts += &quot;&lt;span class='redtext big'&gt;[syndicate_name] operatives have earned Darwin Award!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives blew up something that wasn't [station_name()] and got caught in the explosion.&lt;/B&gt; Next time, don't do that!&quot;
	if(NUKE_RESULT_HIJACK_DISK)
		parts += &quot;&lt;span class='greentext big'&gt;Syndicate Miniscule Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives failed to destroy [station_name()], but they managed to secure the disk and hijack the emergency shuttle, causing it to land on the syndicate base. Good job?&lt;/B&gt;&quot;
	if(NUKE_RESULT_HIJACK_NO_DISK)
		parts += &quot;&lt;span class='greentext big'&gt;Syndicate Insignificant Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives failed to destroy [station_name()] or secure the disk, but they managed to hijack the emergency shuttle, causing it to land on the syndicate base. Good job?&lt;/B&gt;&quot;
	if(NUKE_RESULT_CREW_WIN_SYNDIES_DEAD)
		parts += &quot;&lt;span class='redtext big'&gt;Crew Major Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;The Research Staff has saved the disk and killed the [syndicate_name] Operatives&lt;/B&gt;&quot;
	if(NUKE_RESULT_CREW_WIN)
		parts += &quot;&lt;span class='redtext big'&gt;Crew Major Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;The Research Staff has saved the disk and stopped the [syndicate_name] Operatives!&lt;/B&gt;&quot;
	if(NUKE_RESULT_DISK_LOST)
		parts += &quot;&lt;span class='neutraltext big'&gt;Neutral Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;The Research Staff failed to secure the authentication disk but did manage to kill most of the [syndicate_name] Operatives!&lt;/B&gt;&quot;
	if(NUKE_RESULT_DISK_STOLEN)
		parts += &quot;&lt;span class='greentext big'&gt;Syndicate Minor Victory!&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;[syndicate_name] operatives survived the assault but did not achieve the destruction of [station_name()].&lt;/B&gt; Next time, don't lose the disk!&quot;
	else
		parts += &quot;&lt;span class='neutraltext big'&gt;Neutral Victory&lt;/span&gt;&quot;
		parts += &quot;&lt;B&gt;Mission aborted!&lt;/B&gt;&quot;

var/text = &quot;&lt;br&gt;&lt;span class='header'&gt;The syndicate operatives were:&lt;/span&gt;&quot;
text += printplayerlist(members)
text += &quot;&lt;br&gt;&quot;

parts += text

return &quot;&lt;div class='panel redborder'&gt;[parts.Join(&quot;&lt;br&gt;&quot;)]&lt;/div&gt;&quot;
</code></pre></main><footer>tgstation.dme <a href="https://github.com/hyperjll/tgstation/tree/be45a28c4b65857d23dc903f76861c7a8b838eb4">be45a28</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>